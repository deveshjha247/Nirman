# Nirman â€“ AI Web App Builder ğŸš€

<div align="center">

### **"Soch lo, Bana do"** â€“ Just Think It, Build It

[![Version](https://img.shields.io/badge/version-1.0.0-blue)](https://github.com/noobdeveshjha/Nirman/releases/tag/v1.0.0)
[![License](https://img.shields.io/badge/license-MIT-green)]()
[![Python](https://img.shields.io/badge/Python-3.11+-3776AB?logo=python&logoColor=white)]()
[![React](https://img.shields.io/badge/React-19.0-61DAFB?logo=react&logoColor=black)]()
[![FastAPI](https://img.shields.io/badge/FastAPI-0.110+-009688?logo=fastapi&logoColor=white)]()
[![MongoDB](https://img.shields.io/badge/MongoDB-Database-47A248?logo=mongodb&logoColor=white)]()
[![AI Providers](https://img.shields.io/badge/AI%20Providers-17+-orange)]()

</div>

---

## ğŸ¯ What is Nirman?

**Nirman** (à¤¨à¤¿à¤°à¥à¤®à¤¾à¤£ = "Creation" in Hindi) is an **AI-powered web app builder** that transforms your ideas into fully functional websites in seconds. No coding required â€“ just describe what you want in plain English or Hindi, and watch the magic happen.

### The Problem We Solve

Building a website traditionally requires:
- ğŸ“š Learning HTML, CSS, JavaScript
- â° Weeks or months of development time
- ğŸ’° Hiring expensive developers
- ğŸ”§ Dealing with hosting, deployment, and maintenance

### The Nirman Solution

With Nirman, you simply:
1. **ğŸ’¬ Chat** â€“ Describe your website idea in natural language
2. **ğŸ¤– AI Builds** â€“ Our AI agents plan and generate production-ready code
3. **ğŸ‘€ Preview** â€“ See your website live in real-time
4. **ğŸš€ Deploy** â€“ One-click deployment to GitHub Pages

### Example Prompts â†’ Websites

| What You Say | What You Get |
|--------------|--------------|
| "Create a food delivery website like Swiggy" | Full landing page with hero, menu, features, pricing |
| "Build a portfolio for a photographer" | Beautiful gallery, about section, contact form |
| "Make an e-commerce site for selling shoes" | Product grid, cart, checkout flow |
| "Design a SaaS dashboard for analytics" | Charts, metrics, sidebar navigation |

### Who is Nirman For?

- ğŸ¢ **Small Businesses** â€“ Get online in minutes, not months
- ğŸ¨ **Designers** â€“ Prototype ideas instantly
- ğŸ‘¨â€ğŸ’» **Developers** â€“ Accelerate your workflow 10x
- ğŸ“ **Students** â€“ Build portfolio projects easily
- ğŸš€ **Startups** â€“ Launch MVPs in hours

---

## ğŸ§  How Nirman is Different

### ğŸ“ Self-Learning AI
Unlike other builders, Nirman **learns from every project**:
- Remembers your preferred colors, fonts, layouts
- Gets better at understanding your style over time
- Applies winning patterns from successful projects

### ğŸ§  Two-Phase Intelligence
1. **Planner Agent** â€“ Analyzes your request, detects industry, creates detailed spec
2. **Builder Agent** â€“ Generates optimized, production-ready code

### ğŸŒ 17+ AI Providers
Choose the best AI for your needs:

| Region | Providers |
|--------|-----------|
| ğŸ‡ºğŸ‡¸ **US/Global** | OpenAI GPT-4o, Gemini, Claude, Grok, Mistral, Cohere, Groq, Together, Perplexity, Fireworks, AI21 |
| ğŸ‡¨ğŸ‡³ **Chinese AI** | DeepSeek, Alibaba Qwen, Moonshot Kimi, 01.AI Yi, Zhipu GLM |
| ğŸ¤— **Open Source** | Hugging Face Inference API |

### ğŸ™ GitHub Integration 
- Connect GitHub via OAuth
- Create repos automatically
- Push code with one click
- Enable GitHub Pages instantly
- Get live URL: `username.github.io/project-name`

---

## âœ¨ Features in v1.0.0

- ğŸ¤– **Multi-Agent Coding System** - Intelligent agent routing with 5 specialized agents
- ğŸŒ **17 AI Providers** - All major AI models from US, China & Open Source
- ğŸ™ **GitHub Integration** - One-click deploy to GitHub Pages
- ğŸ”— **8+ App Integrations** - Vercel, Supabase, Firebase, MongoDB, Canva, Razorpay, Cashfree
- ğŸ§  **Self-Learning System** - Nirman learns from your projects
- ğŸ¯ **Planner Agent** - Two-phase AI generation (Plan â†’ Build)
- ğŸ“¡ **SSE Streaming** - Real-time build progress
- ğŸ”„ **Auto Mode** - Fully autonomous app building
- ğŸ¨ **Modern UI** - Clean, responsive design with Tailwind CSS & shadcn/ui

### ğŸ”— External Integrations

| Integration | Category | Features |
|-------------|----------|----------|
| **GitHub** ğŸ™ | Deployment | Push code, Create repos, GitHub Pages |
| **Vercel** â–² | Deployment | Deploy, Preview URLs, Custom domains |
| **Supabase** âš¡ | Backend | PostgreSQL, Auth, Storage, Edge Functions |
| **Firebase** ğŸ”¥ | Backend | Hosting, Firestore, Auth, Cloud Storage |
| **MongoDB Atlas** ğŸƒ | Database | Clusters, Backups, Data API |
| **Canva** ğŸ¨ | Design | Create designs, Export, Templates |
| **Razorpay** ğŸ’³ | Payments | Orders, Subscriptions, Payouts (India) |
| **Cashfree** ğŸ’° | Payments | Payments, Links, Settlements (India) |

### ğŸ¤– Multi-Agent Coding System

Nirman includes a powerful multi-agent system:

| Agent | Icon | Description | Capabilities |
|-------|------|-------------|--------------|
| **CoderAgent** | ğŸ’» | Writes & debugs code | Python, JS, TypeScript, Go, Java, Rust, Full-stack dev |
| **BrowserAgent** | ğŸŒ | Web research | Search, URL extraction, Article summarization |
| **FileAgent** | ğŸ“ | File operations | Create, Read, Update, Delete files & directories |
| **PlannerAgent** | ğŸ§  | Task planning | Break down complex tasks, coordinate agents |
| **CasualAgent** | ğŸ’¬ | General chat | Q&A, concept explanations, brainstorming |

**Smart Routing**: Automatically selects the best agent for your task, or choose manually!

**Pay Model Integration**:
| Plan | Requests/Day | Providers | Features |
|------|-------------|-----------|----------|
| Free | 100 | DeepSeek, Groq | Basic agents |
| Basic | 1000 | + OpenAI, Gemini | All agents |
| Pro | Unlimited | All providers | Priority |
| Enterprise | Unlimited | All + priority | Premium support |

## ğŸ› ï¸ Tech Stack

| Layer | Technology |
|-------|------------|
| **Frontend** | React 19, Tailwind CSS 3.4, shadcn/ui, Radix UI |
| **Backend** | FastAPI 0.110+ (Python 3.11+) |
| **Database** | MongoDB |
| **Build Tool** | CRACO (Create React App Configuration Override) |
| **AI Providers** | OpenAI, Gemini, Claude, Grok, DeepSeek, Mistral, Cohere, Groq, Together, Perplexity, Fireworks, AI21, Qwen, Moonshot, Yi, Zhipu, HuggingFace |
| **Integrations** | GitHub, Vercel, Supabase, Firebase, MongoDB Atlas, Canva, Razorpay, Cashfree |
| **Auth** | JWT + bcrypt |
| **Styling** | Tailwind CSS, class-variance-authority, tailwind-merge |

## ğŸ“‹ Prerequisites

- **Node.js** 18+ (Yarn 1.22+ recommended)
- **Python** 3.11+
- **MongoDB** (local or Atlas cloud)
- At least one AI API key (OpenAI, Gemini, DeepSeek, etc.)

## ğŸš€ Quick Start

### 1. Clone & Setup Backend

```powershell
# Create virtual environment
cd backend
python -m venv .venv
.venv\Scripts\Activate.ps1

# Install dependencies
pip install -r requirements.txt

# Configure .env file
cp .env.example .env
# Edit .env with your API keys
```

### 2. Configure Environment Variables

Create `backend/.env` (copy from `.env.example`):
```env
# MongoDB
MONGO_URL=mongodb://localhost:27017
DB_NAME=nirman

# JWT Secret (change in production!)
JWT_SECRET=your-super-secret-jwt-key

# ============ AI PROVIDER API KEYS ============
# US/Global Providers
OPENAI_API_KEY=sk-...
GEMINI_API_KEY=AIza...
CLAUDE_API_KEY=sk-ant-...
GROK_API_KEY=xai-...
MISTRAL_API_KEY=...
COHERE_API_KEY=...
GROQ_API_KEY=gsk_...
TOGETHER_API_KEY=...
PERPLEXITY_API_KEY=pplx-...
FIREWORKS_API_KEY=...
AI21_API_KEY=...

# Chinese AI Providers
DEEPSEEK_API_KEY=sk-...
QWEN_API_KEY=sk-...
MOONSHOT_API_KEY=sk-...
YI_API_KEY=...
ZHIPU_API_KEY=...

# Open Source
HUGGINGFACE_API_KEY=hf_...

DEFAULT_AI_PROVIDER=gemini

# ============ INTEGRATIONS ============
# GitHub OAuth App
GITHUB_CLIENT_ID=your_github_oauth_app_client_id
GITHUB_CLIENT_SECRET=your_github_oauth_app_secret

# Vercel OAuth
VERCEL_CLIENT_ID=your_vercel_client_id
VERCEL_CLIENT_SECRET=your_vercel_client_secret

# Canva OAuth
CANVA_CLIENT_ID=your_canva_client_id
CANVA_CLIENT_SECRET=your_canva_client_secret

# MongoDB Atlas API
MONGODB_ATLAS_PUBLIC_KEY=your_atlas_public_key
MONGODB_ATLAS_PRIVATE_KEY=your_atlas_private_key

# ============ PAYMENTS ============
# Razorpay
RAZORPAY_KEY_ID=rzp_test_xxx
RAZORPAY_KEY_SECRET=xxx

# Cashfree
CASHFREE_APP_ID=your_cashfree_app_id
CASHFREE_SECRET_KEY=your_cashfree_secret_key
CASHFREE_ENV=sandbox
```

### 3. Run Backend

```powershell
cd backend
py -m uvicorn app.main:app --reload --port 8000
```

### 4. Setup & Run Frontend

```powershell
cd frontend
yarn install
yarn start
```

> **Note:** This project uses CRACO for custom webpack configuration.

Frontend runs at `http://localhost:3000`, Backend at `http://localhost:8000`

## ğŸŒŸ Key Features

### ğŸ¤– AI-Powered Builder
- **Chat Interface** - Describe what you want, AI builds it
- **Auto Mode** - Fully autonomous building with one prompt
- **17 AI Providers** - Choose from US, Chinese, and Open Source models
- **Live Preview** - See your app as it's being built

### ğŸ¤– Multi-Agent Coding System
- **Smart Routing** - Automatically selects best agent for your task
- **5 Specialized Agents** - Coder, Browser, File, Planner, Casual
- **Agent Selection** - Manually choose agents in settings
- **Memory Support** - Agents remember conversation context
- **Code Execution** - Run Python, JavaScript, and more

### ğŸ™ GitHub Integration
- **OAuth Connect** - Securely link your GitHub account
- **Auto Deploy** - Push code with one click
- **GitHub Pages** - Enable hosting automatically
- **Live URLs** - Get instant `username.github.io/project` links

### ğŸ§  Self-Learning System
- **Personalization** - Learns your preferred themes, layouts, sections
- **Pattern Library** - Extracts winning patterns from successful projects
- **Auto-Fix** - Learns from errors to prevent future failures
- **Privacy First** - Your data stays yours (opt-in for global learning)

### ğŸ“¡ SSE Build System
- **Real-time Progress** - Watch build events as they happen
- **Two-Phase Generation** - Planner Agent â†’ Builder Agent
- **Industry Detection** - Auto-detects project type for better templates
- **Fallback Templates** - Works even when AI is unavailable

### ğŸ’¼ Business Features
- **Subscription Plans** - Free, Pro, Business tiers
- **Wallet System** - Credit-based usage tracking
- **BYO API Keys** - Users can add their own AI keys
- **Admin Dashboard** - Full user/system management

## ğŸ“ Project Structure

```
Nirman/
â”œâ”€â”€ backend/                        # FastAPI Backend
â”‚   â”œâ”€â”€ server.py                   # Server entry point
â”‚   â”œâ”€â”€ requirements.txt            # Python dependencies
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py                 # App entry + lifespan events
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py           # Environment config (17 AI keys)
â”‚   â”‚   â”‚   â””â”€â”€ security.py         # JWT auth
â”‚   â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”‚   â””â”€â”€ mongo.py            # MongoDB connection
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py             # User model
â”‚   â”‚   â”‚   â”œâ”€â”€ project.py          # Project model
â”‚   â”‚   â”‚   â”œâ”€â”€ build.py            # Build model
â”‚   â”‚   â”‚   â”œâ”€â”€ jobs.py             # Build jobs & events
â”‚   â”‚   â”‚   â”œâ”€â”€ learning.py         # Self-learning models
â”‚   â”‚   â”‚   â”œâ”€â”€ integrations.py     # GitHub/Vercel models
â”‚   â”‚   â”‚   â”œâ”€â”€ plan.py             # Subscription plans
â”‚   â”‚   â”‚   â”œâ”€â”€ wallet.py           # Wallet/credits
â”‚   â”‚   â”‚   â”œâ”€â”€ llm_keys.py         # LLM API keys
â”‚   â”‚   â”‚   â”œâ”€â”€ coupon.py           # Coupon system
â”‚   â”‚   â”‚   â”œâ”€â”€ domain.py           # Domain management
â”‚   â”‚   â”‚   â”œâ”€â”€ support.py          # Support tickets
â”‚   â”‚   â”‚   â””â”€â”€ ai_usage.py         # AI usage tracking
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py             # Authentication
â”‚   â”‚   â”‚   â”œâ”€â”€ projects.py         # Project CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ build.py            # SSE build endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ learning.py         # Learning API
â”‚   â”‚   â”‚   â”œâ”€â”€ integrations.py     # GitHub OAuth & deploy
â”‚   â”‚   â”‚   â”œâ”€â”€ integrations_extended.py  # Vercel, Supabase, Firebase, etc.
â”‚   â”‚   â”‚   â”œâ”€â”€ coding_agent.py     # Multi-agent endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ agent.py            # Agent routing
â”‚   â”‚   â”‚   â”œâ”€â”€ agent_chat.py       # Agent chat with SSE
â”‚   â”‚   â”‚   â”œâ”€â”€ llm_keys.py         # Universal LLM key system
â”‚   â”‚   â”‚   â”œâ”€â”€ plans.py            # Subscription plans
â”‚   â”‚   â”‚   â”œâ”€â”€ wallet.py           # Wallet operations
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.py            # Admin dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ support.py          # Support system
â”‚   â”‚   â”‚   â””â”€â”€ ai_keys.py          # AI API keys
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ ai_router.py        # 17 AI provider router
â”‚   â”‚       â”œâ”€â”€ coding_agent.py     # Multi-agent system
â”‚   â”‚       â”œâ”€â”€ agent_system.py     # Agent orchestration
â”‚   â”‚       â”œâ”€â”€ github_service.py   # GitHub API integration
â”‚   â”‚       â”œâ”€â”€ planner.py          # Planner Agent prompts
â”‚   â”‚       â”œâ”€â”€ build_service.py    # SSE build worker
â”‚   â”‚       â”œâ”€â”€ learning_service.py # Learning engine
â”‚   â”‚       â”œâ”€â”€ aggregator_jobs.py  # Background learning jobs
â”‚   â”‚       â”œâ”€â”€ payments.py         # Payment processing
â”‚   â”‚       â”œâ”€â”€ utils.py            # Utility functions
â”‚   â”‚       â””â”€â”€ integrations/       # External service integrations
â”‚   â”‚           â”œâ”€â”€ vercel_service.py
â”‚   â”‚           â”œâ”€â”€ supabase_service.py
â”‚   â”‚           â”œâ”€â”€ firebase_service.py
â”‚   â”‚           â”œâ”€â”€ mongodb_service.py
â”‚   â”‚           â”œâ”€â”€ canva_service.py
â”‚   â”‚           â”œâ”€â”€ razorpay_service.py
â”‚   â”‚           â””â”€â”€ cashfree_service.py
â”‚
â”œâ”€â”€ frontend/                       # React 19 Frontend
â”‚   â”œâ”€â”€ package.json                # Dependencies (Yarn)
â”‚   â”œâ”€â”€ craco.config.js             # CRACO configuration
â”‚   â”œâ”€â”€ tailwind.config.js          # Tailwind CSS config
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.js                  # Main app component
â”‚   â”‚   â”œâ”€â”€ index.js                # Entry point
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Landing.jsx         # Landing page
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx       # User dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ Builder.jsx         # Chat builder + GitHub deploy
â”‚   â”‚   â”‚   â”œâ”€â”€ Build.jsx           # SSE build page
â”‚   â”‚   â”‚   â”œâ”€â”€ Agent.jsx           # Multi-agent coding interface
â”‚   â”‚   â”‚   â”œâ”€â”€ AgentChat.jsx       # Agent conversation
â”‚   â”‚   â”‚   â”œâ”€â”€ Integrations.jsx    # GitHub/Vercel connect
â”‚   â”‚   â”‚   â”œâ”€â”€ Settings.jsx        # User settings
â”‚   â”‚   â”‚   â”œâ”€â”€ Plans.jsx           # Subscription plans
â”‚   â”‚   â”‚   â”œâ”€â”€ Wallet.jsx          # Wallet & credits
â”‚   â”‚   â”‚   â”œâ”€â”€ LLMKeys.jsx         # Manage LLM API keys
â”‚   â”‚   â”‚   â”œâ”€â”€ AIKeys.jsx          # AI key management
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin.jsx           # Admin dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx           # Login page
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.jsx        # Registration
â”‚   â”‚   â”‚   â”œâ”€â”€ Docs.jsx            # Documentation
â”‚   â”‚   â”‚   â”œâ”€â”€ About.jsx           # About page
â”‚   â”‚   â”‚   â”œâ”€â”€ Careers.jsx         # Careers page
â”‚   â”‚   â”‚   â”œâ”€â”€ Referrals.jsx       # Referral system
â”‚   â”‚   â”‚   â”œâ”€â”€ Privacy.jsx         # Privacy policy
â”‚   â”‚   â”‚   â”œâ”€â”€ Terms.jsx           # Terms of service
â”‚   â”‚   â”‚   â””â”€â”€ Download.jsx        # Download page
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ BuildChat.jsx       # SSE streaming UI
â”‚   â”‚   â”‚   â”œâ”€â”€ CodingAgent.jsx     # Agent chat component
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx         # Navigation sidebar
â”‚   â”‚   â”‚   â”œâ”€â”€ Modals.jsx          # Modal components
â”‚   â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.jsx  # Auth protection
â”‚   â”‚   â”‚   â”œâ”€â”€ CookieConsent.jsx   # Cookie consent
â”‚   â”‚   â”‚   â””â”€â”€ ui/                 # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â””â”€â”€ AuthContext.jsx     # Authentication context
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ use-toast.js        # Toast notifications
â”‚   â”‚   â””â”€â”€ lib/
â”‚   â”‚       â”œâ”€â”€ api.js              # API client
â”‚   â”‚       â””â”€â”€ utils.js            # Utility functions
â”‚   â””â”€â”€ plugins/
â”‚       â”œâ”€â”€ health-check/           # Health monitoring
â”‚       â””â”€â”€ visual-edits/           # Visual editing plugins
â”‚
â”œâ”€â”€ tests/                          # Test files
â”œâ”€â”€ test_reports/                   # Test results
â”œâ”€â”€ backend_test.py                 # Backend integration tests
â””â”€â”€ README.md
```

## ğŸ”Œ API Endpoints

### Authentication
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/auth/register` | Register new user |
| POST | `/api/auth/login` | Login user |
| GET | `/api/auth/me` | Get current user |

### Projects
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/projects` | List user projects |
| POST | `/api/projects` | Create project |
| GET | `/api/projects/{id}` | Get project |
| DELETE | `/api/projects/{id}` | Delete project |

### Build System (SSE)
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/projects/{id}/build` | Start build job |
| GET | `/api/jobs/{id}` | Get job status |
| GET | `/api/jobs/{id}/stream` | SSE event stream |
| POST | `/api/jobs/{id}/cancel` | Cancel build |

### Self-Learning
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/learning/preferences` | Get user preferences |
| PUT | `/api/learning/preferences` | Update preferences |
| PUT | `/api/learning/privacy` | Privacy settings |
| GET | `/api/learning/insights` | User insights |
| GET | `/api/learning/patterns` | Best patterns |

### Plans & Wallet
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/plans` | List plans |
| POST | `/api/plans/subscribe` | Subscribe |
| GET | `/api/wallet/balance` | Check balance |
| POST | `/api/wallet/add` | Add credits |

### GitHub Integration
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/integrations` | List all integrations |
| GET | `/api/integrations/github/auth-url` | Get OAuth URL |
| POST | `/api/integrations/github/callback` | OAuth callback |
| GET | `/api/integrations/github/status` | Connection status |
| GET | `/api/integrations/github/repos` | List repos |
| POST | `/api/integrations/github/repos` | Create repo |
| POST | `/api/integrations/github/deploy/{id}` | Deploy to GitHub |
| DELETE | `/api/integrations/github` | Disconnect |

### Extended Integrations
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/integrations/all-status` | All integrations status |
| **Vercel** | | |
| GET | `/api/integrations/vercel/auth-url` | Vercel OAuth URL |
| POST | `/api/integrations/vercel/callback` | OAuth callback |
| GET | `/api/integrations/vercel/projects` | List projects |
| POST | `/api/integrations/vercel/deploy` | Deploy to Vercel |
| **Supabase** | | |
| POST | `/api/integrations/supabase/connect` | Connect with token |
| GET | `/api/integrations/supabase/projects` | List projects |
| POST | `/api/integrations/supabase/projects` | Create project |
| **Firebase** | | |
| POST | `/api/integrations/firebase/connect` | Connect with service account |
| POST | `/api/integrations/firebase/deploy` | Deploy to Firebase |
| **MongoDB** | | |
| POST | `/api/integrations/mongodb/connect` | Connect Atlas |
| GET | `/api/integrations/mongodb/clusters` | List clusters |
| **Canva** | | |
| GET | `/api/integrations/canva/auth-url` | Canva OAuth URL |
| GET | `/api/integrations/canva/designs` | List designs |
| POST | `/api/integrations/canva/designs` | Create design |
| **Razorpay** | | |
| POST | `/api/integrations/razorpay/connect` | Connect Razorpay |
| POST | `/api/integrations/razorpay/orders` | Create order |
| POST | `/api/integrations/razorpay/verify` | Verify payment |
| **Cashfree** | | |
| POST | `/api/integrations/cashfree/connect` | Connect Cashfree |
| POST | `/api/integrations/cashfree/orders` | Create order |
| POST | `/api/integrations/cashfree/quick-payment` | Quick payment |

### Coding Agent (Multi-Agent System)
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/agent/process` | Process request with agent routing |
| GET | `/api/agent/status` | Get user status & remaining requests |
| GET | `/api/agent/models` | Get available models per plan |
| GET | `/api/agent/agents` | List all agents with capabilities |
| POST | `/api/agent/conversation` | Continue conversation with memory |
| GET | `/api/agent/conversations` | List user conversations |
| GET | `/api/agent/usage/history` | Get usage history |
| GET | `/api/agent/plans` | Get plan details |

### LLM Keys (Universal Key System)
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/llm-keys` | List user's LLM API keys |
| POST | `/api/llm-keys` | Add new LLM API key |
| DELETE | `/api/llm-keys/{provider}` | Remove LLM key |
| GET | `/api/llm-keys/providers` | List supported providers |

## ğŸ§  Self-Learning Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER ACTIONS                              â”‚
â”‚  (prompts, builds, theme changes, section edits, deploys)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   EVENT TRACKING                             â”‚
â”‚              (project_events collection)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼               â–¼               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   USER     â”‚   â”‚  GLOBAL    â”‚   â”‚   ERROR    â”‚
     â”‚PREFERENCES â”‚   â”‚  PATTERNS  â”‚   â”‚ SIGNATURES â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚               â”‚               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 PLANNER AGENT                                â”‚
â”‚    (uses preferences + patterns to improve planning)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 BUILDER AGENT                                â”‚
â”‚      (generates code with learned optimizations)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Privacy Controls
- **Personalization** (default: ON) - Learn from your own projects only
- **Global Learning** (default: OFF) - Opt-in to share anonymized patterns

## ğŸ¤– Multi-Agent Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER REQUEST                            â”‚
â”‚            "Create a REST API for user management"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AGENT ROUTER                              â”‚
â”‚         classify_task() â†’ estimate_complexity()              â”‚
â”‚    Analyzes: keywords, patterns, complexity, intent          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SIMPLE     â”‚    â”‚   MODERATE   â”‚    â”‚   COMPLEX    â”‚
â”‚  CoderAgent  â”‚    â”‚ CoderAgent + â”‚    â”‚ PlannerAgent â”‚
â”‚    alone     â”‚    â”‚   FileAgent  â”‚    â”‚ coordinates  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â–¼                â–¼                â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ CoderAgent   â”‚ â”‚ BrowserAgent â”‚ â”‚  FileAgent   â”‚
                     â”‚   ğŸ’» Code    â”‚ â”‚  ğŸŒ Research â”‚ â”‚  ğŸ“ Files    â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                â”‚                â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚         FINAL RESPONSE          â”‚
                              â”‚  Code + Files + Documentation   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Agent Capabilities

| Agent | Specialization | Example Prompts |
|-------|----------------|-----------------|
| **CoderAgent** ğŸ’» | Code generation, debugging, optimization | "Create a FastAPI server", "Debug this function" |
| **BrowserAgent** ğŸŒ | Web research, documentation lookup | "Research React hooks best practices" |
| **FileAgent** ğŸ“ | File CRUD, project scaffolding | "Create project structure for Express app" |
| **PlannerAgent** ğŸ§  | Complex task decomposition | "Build a complete e-commerce app" |
| **CasualAgent** ğŸ’¬ | General Q&A, explanations | "Explain how async/await works" |

## ğŸ”§ Configuration

### AI Providers

Nirman supports 17 AI providers with direct API calls:

| Provider | Model | Best For |
|----------|-------|----------|
| **OpenAI** | gpt-4o / gpt-5 | Complex projects, highest accuracy |
| **Gemini** | gemini-1.5-flash | Speed, cost-effective |
| **Claude** | claude-sonnet-4-20250514 | Creative, detailed designs |
| **Grok** | grok-2-latest | Fast, conversational |
| **DeepSeek** | deepseek-chat | Coding, cost-effective |
| **Mistral** | mistral-large-latest | European, balanced |
| **Cohere** | command-r-plus | Enterprise, RAG |
| **Groq** | llama-3.3-70b | Ultra-fast inference |
| **Together** | Meta-Llama/Llama-3.3-70B | Open source models |
| **Perplexity** | llama-3.1-sonar-huge | Research, citations |
| **Fireworks** | llama-v3p1-405b | High performance |
| **AI21** | jamba-1.5-large | Enterprise |
| **Qwen** | qwen-max | Chinese, multilingual |
| **Moonshot** | moonshot-v1-128k | Long context |
| **Yi** | yi-large | Creative writing |
| **Zhipu** | glm-4-plus | Chinese, enterprise |
| **HuggingFace** | Qwen/Qwen2.5-72B | Open source, free |

### GitHub OAuth Setup

1. Go to **GitHub Settings** â†’ **Developer Settings** â†’ **OAuth Apps**
2. Click **New OAuth App**
3. Set **Authorization callback URL** to: `http://localhost:3000/integrations`
4. Copy **Client ID** and **Client Secret** to `.env`

### Database Collections

| Collection | Purpose |
|------------|---------|
| `users` | User accounts |
| `projects` | User projects |
| `build_jobs` | Build job status |
| `build_events` | SSE events |
| `project_events` | Learning events |
| `user_preferences` | Personalization |
| `pattern_library` | Winning patterns |
| `error_signatures` | Auto-fix library |
| `user_integrations` | GitHub/Vercel tokens |
| `oauth_states` | OAuth state tokens |
| `deployments` | Deploy history |
| `ai_runs` | AI usage logs |

## ğŸ§ª Testing

```powershell
# Backend tests
cd backend
pytest tests/

# Integration test
python backend_test.py
```

## ğŸš¢ Deployment

### Backend (Production)
```powershell
# Use Gunicorn with Uvicorn workers
gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
```

### Frontend (Production)
```powershell
cd frontend
npm run build
# Deploy build/ folder to Vercel, Netlify, or S3
```

## ğŸ“ Environment Variables Reference

| Variable | Required | Description |
|----------|----------|-------------|
| `MONGO_URL` | âœ… | MongoDB connection string |
| `DB_NAME` | âœ… | Database name |
| `JWT_SECRET` | âœ… | Secret for JWT signing |
| `OPENAI_API_KEY` | âš¡ | OpenAI API key |
| `GEMINI_API_KEY` | âš¡ | Google Gemini API key |
| `CLAUDE_API_KEY` | âš¡ | Anthropic Claude API key |
| `GROK_API_KEY` | âš¡ | xAI Grok API key |
| `DEEPSEEK_API_KEY` | âš¡ | DeepSeek API key |
| `MISTRAL_API_KEY` | âš¡ | Mistral API key |
| `COHERE_API_KEY` | âš¡ | Cohere API key |
| `GROQ_API_KEY` | âš¡ | Groq API key |
| `TOGETHER_API_KEY` | âš¡ | Together AI API key |
| `PERPLEXITY_API_KEY` | âš¡ | Perplexity API key |
| `FIREWORKS_API_KEY` | âš¡ | Fireworks AI API key |
| `AI21_API_KEY` | âš¡ | AI21 API key |
| `QWEN_API_KEY` | âš¡ | Alibaba Qwen API key |
| `MOONSHOT_API_KEY` | âš¡ | Moonshot API key |
| `YI_API_KEY` | âš¡ | 01.AI Yi API key |
| `ZHIPU_API_KEY` | âš¡ | Zhipu GLM API key |
| `HUGGINGFACE_API_KEY` | âš¡ | Hugging Face API key |
| `GITHUB_CLIENT_ID` | ğŸ™ | GitHub OAuth Client ID |
| `GITHUB_CLIENT_SECRET` | ğŸ™ | GitHub OAuth Secret |
| `GITHUB_REDIRECT_URI` | ğŸ™ | OAuth callback URL |
| `DEFAULT_AI_PROVIDER` | âŒ | Default: openai |

âš¡ = At least one AI key required  
ğŸ™ = Required for GitHub integration

## ğŸ¤ Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE) for details.

## ğŸ™ Acknowledgments

- [FastAPI](https://fastapi.tiangolo.com/) - Modern Python web framework
- [React](https://reactjs.org/) - UI library
- [Tailwind CSS](https://tailwindcss.com/) - Utility-first CSS
- [shadcn/ui](https://ui.shadcn.com/) - Beautiful components
- [MongoDB](https://www.mongodb.com/) - NoSQL database

---

**Built with â¤ï¸ by the Nirman Team**

